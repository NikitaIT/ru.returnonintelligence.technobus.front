$(function(){new DG.OnOffSwitch({el:"#on-off-switch-notext"}),new DG.OnOffSwitch({el:"#on-off-switch",textOn:"Ru",textOff:"En",listener:function(e,i){$("#listener-text").html("Listener called for "+e+", checked: "+i)}})}),$(function(){function e(){var e={hour:"numeric",minute:"numeric"},i=new Date,t=i.toLocaleString("ru",e)+" "+function(e){return["вс","пн","вт","ср","чт","пт","сб"][e.getDay()]}(i).toUpperCase();$("time.current-time").html(t)}e(),setInterval(e,1e3)}),$(function(){function e(){var e={metro:[59.853876,30.321102],technopolis:[59.818043,30.327938]},i=e.metro,t=new ymaps.Map("map",{center:i,zoom:16},{searchControlProvider:"yandex#search"}),o=new ymaps.Placemark(t.getCenter());t.geoObjects.add(o),o.events.add("mouseenter",function(e){e.get("target").options.set("preset","islands#greenIcon")}).add("mouseleave",function(e){e.get("target").options.unset("preset")})}ymaps.ready(e)}),$(function(){for(var e={"Расписание":[{ThenGo:"K Technopolis",tr:[{hover:7,td:[{min:45,dayOfWeek:"ПТ"}]},{hover:8,td:[{min:0,dayOfWeek:"ПТ"},{min:10,dayOfWeek:"ПТ"}]}]},{ThenGo:"От Technopolis",tr:[{hover:7,td:[{min:45,dayOfWeek:"ПТ"}]},{hover:8,td:[{min:0,dayOfWeek:"ПТ"},{min:10,dayOfWeek:"ПТ"}]}]}]},i=9;i<23;i++){var t=10;e.Расписание[0].tr.push({hover:i,td:[{min:t++,dayOfWeek:"ПТ"},{min:t++,dayOfWeek:"ПТ"},{min:t++,dayOfWeek:"ПТ"},{min:t++,dayOfWeek:"ПТ"},{min:t++,dayOfWeek:"ПТ"},{min:t++,dayOfWeek:"ПТ"},{min:t++,dayOfWeek:"ПТ"},{min:t++,dayOfWeek:"ПТ"},{min:t++,dayOfWeek:"ПТ"},{min:t++,dayOfWeek:"ПТ"},{min:t++,dayOfWeek:"ПТ"},{min:t++,dayOfWeek:"ПТ"}]})}var o=e,s=$(".timetable"),n="";n+='<div class="timetable__row"><div class="timetable__header__row"><div class="timetable__header" id="to">',n+=o.Расписание[0].ThenGo+'</div><div class="timetable__header" id="from">'+o.Расписание[1].ThenGo+'</div></div></div><div class="timetable__row__all">',o.Расписание.forEach(function(e,i,t){n+='<div class="timetable__row__current" id="route'+i+'">',e.tr.forEach(function(e,i,t){n+='<div class="timetable__row"><div class="timetable__hover " style="background: #FF9101">'+e.hover+'</div><hr/><div class="timetable__row--subrow">',e.td.forEach(function(i,t,o){n+='<div  class="timetable__min '+i.dayOfWeek+'">'+e.hover+":"+String("0"+i.min).substr(-2)+"</div>"}),n+="</div></div>"}),n+="</div>"}),n+="</div>",s.append(n)}),$(function(){$(".timetable__row--subrow").slick({arrows:!1,dots:!1,infinite:!0,variableWidth:!0,speed:200,slidesToScroll:7,responsive:[{breakpoint:1024,settings:{variableWidth:!1,slidesToShow:6,slidesToScroll:4}},{breakpoint:600,settings:{variableWidth:!1,slidesToShow:5,slidesToScroll:4}},{breakpoint:480,settings:{variableWidth:!1,slidesToShow:4,slidesToScroll:4}}]})}),$(document).ready(function(){$(".timetable__header").click(function(){$(this).css("background","#FEFCD7"),$(this).css("color","#B23302"),"to"===$(this).attr("id")?($("#from").css("background","#FEDEB7"),$("#from").css("color","#D9A414"),$("#route0").css("visibility","visible"),$("#route0").css("position","initial"),$("#route1").css("visibility","hidden"),$("#route1").css("position","absolute")):($("#to").css("background","#FEDEB7"),$("#to").css("color","#D9A414"),$("#route0").css("visibility","hidden"),$("#route0").css("position","absolute"),$("#route1").css("visibility","visible"),$("#route1").css("position","initial"))})});